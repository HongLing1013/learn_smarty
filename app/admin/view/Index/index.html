<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>博客后台</title>
        <link rel="stylesheet" type="text/css" href="{P}/css/app.css" />
    </head>
    <body>
        <!-- START WRAPPER -->
        <div class="wrapper">

            <!-- START HEADER -->
            {include file="../Public/header.html"}
            <!-- END HEADER -->

            <!--  START MAIN -->
            <div id="main">
                <!-- START SIDEBAR -->
                {include file="../Public/sidebar.html"}
                <!-- END SIDEBAR -->

                <!-- START PAGE -->
                <div id="page">
                    <!-- START PAGE TITLE -->
                    <div id="page-title">
                        <div class="in">
                            <div class="titlebar">
                                <h2>控制面板</h2>
                                <p>小標題</p>
                            </div>
                            <div class="clear"></div>
                        </div>
                    </div>
                    <!-- END PAGE TITLE -->
                    <!-- START CONTENT -->
                    <div class="content">
                        <!-- START simple tips -->
                        <div class="simple-tips">
                            <h2>提示</h2>
                            <ul>
                                <li>1. 使用左側的導航菜單進入功能</li>
                                <li>2. 使用右上角的退出按鈕退出管理後台</li>
                            </ul>
                            <a href="#" class="close tips" title="關閉">關閉</a>
                        </div>
                        <div class="simple-tips">
                            <h2>提示</h2>
                            <ul>
                                <li>1. 您當前使用的ip: {$smarty.server.REMOTE_ADDR}</li>
                                <li>2. PHP版本: {PHP_VERSION}</li>
                                <li>3. 瀏覽器: {$smarty.server.HTTP_USER_AGENT}</li>
                            </ul>
                            <a href="#" class="close tips" title="關閉">關閉</a>
                        </div>

                        <!-- start DASHBUTTON -->
                        <div class="grid740">
                            <span class="dashbutton"> 
                                <img src="{P}/img/icons/dashbutton/users.png" width="44" height="32" alt="icon" />
                                <b>用戶數</b> {$counts}
                            </span>   
                            <div class="clear"></div>
                        </div>
                        <!-- end DASHBUTTON -->
                    </div>
                    <!-- end CONTENT -->
                </div>
                <!-- END PAGE -->
                <div class="clear"></div>
            </div>
            <!-- END MAIN -->

            <!-- START FOOTER -->
            {include file="../Public/footert.html"}
            <!-- END FOOTER -->
        </div>
        <!-- END WRAPPER -->
        <script type="text/javascript">
        // 側邊欄菜單切換功能
        document.addEventListener('DOMContentLoaded', function() {
            // 獲取所有帶有 subtitle 類的菜單項
            const subtitleLinks = document.querySelectorAll('.subtitle > a');
            
            subtitleLinks.forEach(function(link) {
                link.addEventListener('click', function(e) {
                    e.preventDefault(); // 防止鏈接跳轉
                    
                    // 獲取對應的子菜單
                    const submenu = this.nextElementSibling;
                    
                    if (submenu && submenu.classList.contains('submenu')) {
                        // 切換顯示/隱藏狀態
                        if (submenu.classList.contains('display-block')) {
                            submenu.classList.remove('display-block');
                            submenu.style.display = 'none';
                        } else {
                            submenu.classList.add('display-block');
                            submenu.style.display = 'block';
                        }
                        
                        // 旋轉箭頭
                        const arrow = this.querySelector('.arrow');
                        if (arrow) {
                            if (submenu.classList.contains('display-block')) {
                                arrow.style.transform = 'rotate(180deg)';
                            } else {
                                arrow.style.transform = 'rotate(0deg)';
                            }
                        }
                    }
                });
            });
        });
        </script>
    </body>
</html>